Web Stockfish + Gemini Chess Analyzer

Monorepo: frontend and backend in one repo. Paste a FEN, see it on a Lichess board, get Stockfish top-3 lines, then Gemini English explanation.

Features:

Live FEN to Lichess board (instant visual update)

“Analyzing…” text shown while the backend works

Stockfish depth 1–40 and MultiPV 1–10

Gemini 3 explains engine lines in human chess language

Project structure:

frontend/index.php : Lichess iframe UI and loader

backend/ : FastAPI + Stockfish + Gemini API

docker-compose.yml : Full stack (Caddy + PHP + API)

Caddyfile

Dockerfile

.gitignore

Quick start (from repo root):

Run: docker compose up --build

Open: http://localhost:8080 in your browser

Optional fish helper (describe only, you already know how to add it):

Function name: docker_nuke

Commands it should run, in order:

docker compose down -v --remove-orphans

docker system prune -af

docker compose up --build

Usage:

Paste a FEN into the textbox.

The Lichess board on the right updates immediately to that position.

Set Depth (default 12) and MultiPV (default 3).

Click Analyze.

While the backend is working, an “Analyzing…” message is visible.

When it finishes you see:

An ASCII board,

Stockfish’s top lines,

Gemini’s natural-language explanation.

Demo FEN (Italian Game style middlegame):
r1bqk2r/ppp2ppp/2n1pn2/1B1p3Q/3PP3/2N2N2/PPP2PPP/R3K2R w KQkq - 0 9

Docker stack:

Caddy as reverse proxy

PHP/FrankenPHP serving frontend/index.php on port 8080

Backend FastAPI service providing /api/analyze (Stockfish + Gemini)

Notes:

Depth 12 is a good default: fast and strong enough for instruction.

MultiPV 3 gives best move plus two alternatives for Gemini to talk about.

Lichess PGNs can be turned into FEN lists and pasted into this UI for testing.
